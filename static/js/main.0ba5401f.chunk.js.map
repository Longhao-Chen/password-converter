{"version":3,"sources":["Password.js","Key.js","Security.js","App.js","Footer.js","config.js","dark.js","index.js"],"names":["crypto","require","sha512","input","createHash","update","digest","Password","pass","i","slice","Key","onKeyDown","e","key","toLowerCase","props","keyName","ctrlKey","shiftKey","altKey","func","document","addEventListener","this","removeEventListener","React","Component","defaultProps","sleep","time","Promise","resolve","setTimeout","cover_clipboard","then","copy","Math","random","toString","Security","className","Main","state","value","copied","handleChange","bind","cleanPassword","copyPassword","inputRef","createRef","event","setState","password","target","current","focus","showInput","showOutput","InputGroup","placeholder","autoFocus","type","onChange","ref","onClick","icon","faEyeSlash","faEye","Button","faBackspace","readOnly","faCheck","faCopy","variant","disabled","cover","App","Footer","href","Config","default_var","read","write","data","window","localStorage","setItem","getItem","removeItem","Dark","config","mode","setMode","setDark","getElementById","faMoon","faSun","ReactDOM","render","StrictMode","id"],"mappings":"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","file":"static/js/main.0ba5401f.chunk.js","sourcesContent":["//计算加密后的密码\nconst crypto = require('crypto');\n\nfunction sha512(input) {\n\treturn crypto.createHash('sha512').update(input).digest('base64');\n}\n\nfunction Password(input) {\n\tvar pass = input;\n\t//增加暴力破解的计算量，总共计算50次sha512\n\tfor (var i = 0; i < 50; ++i) {\n\t\tpass = sha512(input + pass + input);\n\t}\n\n\tpass = pass.slice(0, 4) + ':' + pass.slice(4, 8) + '$' + pass.slice(8, 12);\n\treturn pass;\n}\n\nexport default Password;","//键盘事件的处理\nimport React from 'react';\n\nexport default class Key extends React.Component {\n\tcomponentDidMount() {\n\t\tdocument.addEventListener(\"keydown\", this.onKeyDown)\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener(\"keydown\", this.onKeyDown)\n\t}\n\n\tonKeyDown = (e) => {\n\t\tif (e.key.toLowerCase() === this.props.keyName.toLowerCase() &&\t//不区分大小写\n\t\t\t!(e.ctrlKey ^ this.props.ctrlKey) &&\n\t\t\t!(e.shiftKey ^ this.props.shiftKey) &&\n\t\t\t!(e.altKey ^ this.props.altKey)) {\n\t\t\tthis.props.func();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn ('');\n\t}\n}\n\nKey.defaultProps = {\n\tctrlKey: false,\n\tshiftKey: false,\n\taltKey: false\n}","import React from 'react';\nimport copy from 'copy-to-clipboard';\nimport Password from './Password';\nimport Key from './Key';\n\n//得到随机的密码\nfunction RandomPassword() {\n\treturn Password(Math.random().toString());\n}\n\nfunction sleep(time) {\n\treturn new Promise((resolve) => setTimeout(resolve, time));\n}\n\n//使用随机密码覆盖剪切板20次\nexport function cover_clipboard() {\n\tfor (var i = 0; i < 20; ++i) {\n\t\tsleep(250).then(copy(RandomPassword()));\n\t}\n\treturn true;\n}\n\nfunction Security() {\n\treturn (\n\t\t<div className=\"Security\">\n\t\t\t<Key keyName={\"Delete\"} ctrlKey={true} func={cover_clipboard} />\t{/*Ctrl+Delete*/}\n\t\t</div>\n\t);\n}\n\nexport default Security;","import './App.css';\nimport React from 'react';\nimport copy from 'copy-to-clipboard';\nimport { Button, InputGroup } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEye, faEyeSlash, faCopy, faBackspace, faCheck } from '@fortawesome/free-solid-svg-icons'\nimport Password from './Password';\nimport Key from './Key';\nimport { cover_clipboard } from './Security'\n\nclass Main extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvalue: '',\n\t\t\tcopied: false\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.cleanPassword = this.cleanPassword.bind(this);\n\t\tthis.copyPassword = this.copyPassword.bind(this);\n\t\tthis.inputRef = React.createRef();\n\t}\n\n\thandleChange(event) {\n\t\tthis.setState({\n\t\t\tpassword: Password(event.target.value),\n\t\t\tvalue: event.target.value\n\t\t});\n\t}\n\n\tcleanPassword() {\n\t\tthis.setState({\n\t\t\tvalue: '',\n\t\t\tpassword: ''\n\t\t});\n\t\tthis.inputRef.current.focus();\n\t}\n\n\tcopyPassword() {\n\t\tcopy(this.state.password);\n\t\tthis.setState({\n\t\t\tcopied: true\n\t\t});\n\n\t\t//复制完成图标自动消失\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ copied: false })\n\t\t}, 2500);\n\t\tthis.inputRef.current.focus();\n\t}\n\n\trender() {\n\t\treturn <div className=\"container col-11 col-md-6 col-lg-5 col-xl-4\">\n\t\t\t{/*键盘事件*/}\n\t\t\t<Key keyName={\"Enter\"} func={this.copyPassword} />\t{/*Enter*/}\n\t\t\t<Key keyName={\"c\"} ctrlKey={true} func={this.copyPassword} />\t{/*Ctrl+C*/}\n\t\t\t<Key keyName={\"Backspace\"} ctrlKey={true} func={this.cleanPassword} />\t{/*Ctrl+Backspace*/}\n\t\t\t<Key keyName={\"i\"} altKey={true} func={\n\t\t\t\t() => { this.setState({ showInput: true ^ this.state.showInput }); }\n\t\t\t} />\t{/*Alt+I*/}\n\t\t\t<Key keyName={\"o\"} altKey={true} func={\n\t\t\t\t() => { this.setState({ showOutput: true ^ this.state.showOutput }); }\n\t\t\t} />\t{/*Alt+O*/}\n\t\t\t<InputGroup>\n\t\t\t\t<input placeholder=\"在此输入您的密码\"\n\t\t\t\t\tautoFocus=\"autofocus\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\ttype={this.state.showInput ? \"text\" : \"password\"}\n\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tref={this.inputRef} />\n\t\t\t\t<span className=\"input-group-text\">\n\t\t\t\t\t<FontAwesomeIcon onClick={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tthis.setState({ showInput: true ^ this.state.showInput });\n\t\t\t\t\t\t\tthis.inputRef.current.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t} icon={this.state.showInput ? faEyeSlash : faEye} />\n\t\t\t\t</span>\n\t\t\t\t<Button onClick={this.cleanPassword}>\n\t\t\t\t\t<FontAwesomeIcon icon={faBackspace} />\n\t\t\t\t</Button>\n\t\t\t</InputGroup>\n\t\t\t<hr />\n\n\t\t\t<h6>转换后的密码为：</h6>\n\t\t\t<InputGroup>\n\t\t\t\t<input placeholder=\"转换后的密码\"\n\t\t\t\t\treadOnly=\"readonly\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\ttype={this.state.showOutput ? \"text\" : \"password\"}\n\t\t\t\t\tvalue={this.state.password} />\n\t\t\t\t<span className=\"input-group-text\">\n\t\t\t\t\t<FontAwesomeIcon onClick={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tthis.setState({ showOutput: true ^ this.state.showOutput });\n\t\t\t\t\t\t\tthis.inputRef.current.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t} icon={this.state.showOutput ? faEyeSlash : faEye} />\n\t\t\t\t</span>\n\t\t\t\t<Button onClick={this.copyPassword}>\n\t\t\t\t\t<FontAwesomeIcon icon={this.state.copied ? faCheck : faCopy} />\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\"\n\t\t\t\t\tdisabled={this.state.cover ? 'disabled' : ''/*防止重复点击造成意外效果*/}\n\t\t\t\t\tonClick={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tcover_clipboard();\n\t\t\t\t\t\t\tthis.setState({ cover: true });\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.setState({ cover: false })\n\t\t\t\t\t\t\t}, 2500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}>{this.state.cover ? '已覆盖完成' : '覆盖剪切板'}</Button>\n\t\t\t</InputGroup>\n\t\t</div>;\n\t}\n}\n\nfunction App() {\n\treturn (\n\t\t<Main />\n\t);\n}\n\nexport default App;","import React from 'react';\n\nfunction Footer() {\n\treturn (\n\t\t<div className=\"center\">\n\t\t\t<hr />\n\t\t\t<footer className=\"footer navbar-fixed-bottom \">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t项目主页及说明文档：\n\t\t\t\t\t<a href=\"https://github.com/Longhao-Chen/password-converter/\">\n\t\t\t\t\t\thttps://github.com/Longhao-Chen/password-converter/\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t</div>\n\t);\n}\n\nexport default Footer;","//配置文件存储(localStorage)\n\nclass Config {\n\tconstructor(key, default_var) {\t//default_var为默认值，如果此配置不存在，则设为默认值\n\t\tthis.key = key;\n\t\tif (this.read() === null)\n\t\t\tthis.write(default_var);\n\t}\n\twrite(data) {\n\t\twindow.localStorage.setItem('config_' + this.key, data);\n\t}\n\n\tread() {\n\t\treturn window.localStorage.getItem('config_' + this.key);\n\t}\n\n\tclear() {\n\t\twindow.localStorage.removeItem('config_' + this.key);\n\t}\n}\n\nexport default Config;","//暗主题\nimport Config from './config'\nimport React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSun, faMoon } from '@fortawesome/free-solid-svg-icons'\n\nclass Dark extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.config = new Config('dark', 'light');\n\t\tthis.state = {\n\t\t\tmode: this.config.read()\n\t\t};\n\t\tthis.setMode = this.setMode.bind(this);\n\t\tthis.setDark = this.setDark.bind(this);\n\t\tthis.setDark(this.state.mode);\n\t}\n\n\tsetMode(mode) {\n\t\tthis.setState({\n\t\t\tmode: mode\n\t\t});\n\t\tthis.config.write(mode);\n\t\tthis.setDark(mode);\t//state更新似乎需要一定时间，如果调用setDark(this.state.mode)将读取到未修改前的值\n\t}\n\n\tsetDark(mode) {\n\t\tif (mode === 'dark') {\n\t\t\tdocument.getElementById('body').className = 'text-light bg-dark';\n\t\t} else if (mode === 'light') {\n\t\t\tdocument.getElementById('body').className = '';\n\t\t} else {\n\t\t\tthis.setMode('light');\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Button onClick={() => {\n\t\t\t\tif (this.state.mode === 'dark')\n\t\t\t\t\tthis.setMode('light');\n\t\t\t\telse\n\t\t\t\t\tthis.setMode('dark');\n\t\t\t}}\n\t\t\t\tvariant={(this.state.mode === 'dark') ? 'dark' : 'light'}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={(this.state.mode === 'dark') ? faMoon : faSun} />\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nexport default Dark;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Security from './Security';\nimport Footer from './Footer';\nimport Dark from './dark';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<div id=\"title\">\n\t\t\t<h1 id=\"title-title\">密码转换器</h1>\n\t\t\t<span id=\"title-Dark\"><Dark /></span>\n\t\t</div>\n\t\t<hr />\n\t\t<App />\n\t\t<Security />\n\t\t<Footer />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}